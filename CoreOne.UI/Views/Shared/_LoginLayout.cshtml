@using CoreOne.DOMAIN.Models
@using CoreOne.UI.Controllers
@using CoreOne.UI.Helper
@inject MenuLayoutController MenuController
@inject IHttpContextAccessor HttpContextAccessor
@{
    
    var path = HttpContextAccessor.HttpContext.Request.Path.Value;

    if (!path.Contains("/Home/Error", StringComparison.OrdinalIgnoreCase))
    {
        bool tokenValid = TokenHelper.IsTokenValid(HttpContextAccessor.HttpContext);

        if (tokenValid)
        {
            TempData["message"] = "Welcome";
            TempData["messagetype"] = "success";
            HttpContextAccessor.HttpContext.Response.Redirect("/Home/UserDashboard");
        }
    }
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Log In | CoreOne - Document Management</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="A fully featured admin theme which can be used to build CRM, CMS, etc." name="description" />
    <meta content="Coderthemes" name="author" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link rel="shortcut icon" href="~/assets/images/favicon.ico">

    <!-- Plugins css -->
    <link href="~/assets/libs/dropzone/min/dropzone.min.css" rel="stylesheet" type="text/css" />
    <link href="~/assets/libs/dropify/css/dropify.min.css" rel="stylesheet" type="text/css" />

    <!-- Bootstrap css -->
    <link href="~/assets/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <!-- App css -->
    <link href="~/assets/css/app.min.css" rel="stylesheet" type="text/css" id="app-style" />
    <!-- icons -->
    <link href="~/assets/css/icons.min.css" rel="stylesheet" type="text/css" />
    <!-- Head js -->
    <script src="~/assets/js/head.js"></script>
    <script src="~/assets/libs/jquery/jquery.min.js"></script>
    <link href="~/assets/libs/sweetalert2/sweetalert2.min.css" rel="stylesheet" />

</head>
<body>
    <div>
        <main role="main" class="pb-3">
            @RenderBody()
        </main>
    </div>
    <script src="~/assets/js/vendor.min.js"></script>
    <script src="~/assets/libs/sweetalert2/sweetalert2.all.min.js"></script>

    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>

    <!-- Plugins js -->
    <script src="~/assets/libs/dropzone/min/dropzone.min.js"></script>
    <script src="~/assets/libs/dropify/js/dropify.min.js"></script>

    <!-- Init js-->
    <script src="~/assets/js/pages/form-fileuploads.init.js"></script>

    <!-- App js -->
    <script src="~/assets/js/app.min.js"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
